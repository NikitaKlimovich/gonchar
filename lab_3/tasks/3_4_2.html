<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>lab 3</title>
        <link rel="stylesheet" type="text/css" href="./../style.css">
        <script src="./../tasks.js"></script>

    <script language="JavaScript">
        // Массив, содержащий названия 12 месяцев
        monthsArray = Array.from({ length: 12 }, (item, i) => {
            return new Date(0, i).toLocaleString('ru', { month: 'long' })
        });
        
        // Вычислить сумму элементов массива
        function sum_elems(arr) {
            var sum_el = 0;
            for (var i = 0; i < arr.length; i++) { sum_el += arr[i] }
            return sum_el;
        }

        function income(ob_frm) {
            var x1 = new Array();
            for (var i = 0; i < ob_frm.elements.length - 7; i++) { x1[i] = 1.0 * ob_frm.elements[i].value }
            inc_mean = Math.round(sum_elems(x1)/x1.length * 1000) / 1000;
            ob_frm.result.value = inc_mean;

            minIncome = Math.min.apply(null, x1);
            minIndex = x1.indexOf(minIncome);
            ob_frm.minIncome.value = minIncome;
            ob_frm.minMonth.value = monthsArray[minIndex];

            maxIncome = Math.max.apply(null, x1);
            maxIndex = x1.indexOf(maxIncome);
            ob_frm.maxIncome.value = maxIncome;
            ob_frm.maxMonth.value = monthsArray[maxIndex];

        }
    </script>
</head>

<body>
    <div class="container">
        <h2>Вычисление среднемесячного дохода студента Петрова</h2>
        <p>Введите полученные Вами суммы (вместо сумм по умолчанию)за месяцы:
        <FORM name="form1">
            январь: <input id="m1" type="text" size=8 value="125.55">
            февраль: <input id="m2" type="text" size=8 value="135.55">
            март: <input id="m3" type="text" size=8 value="145.55"><br>
            апрель: <input id="m4" type="text" size=8 value="155.55">
            май: <input id="m5" type="text" size=8 value="165.55">
            июнь: <input id="m6" type="text" size=8 value="175.55"><br><br>
            Средний доход за
            <script>document.write(form1.elements.length)</script> месяцев:
            <input type="text" size=8 name="result"><br><br>
            Максимальный доход был в
            <input type="text" size=8 name="maxMonth">
            и он составил 
            <input type="text" size=8 name="maxIncome"><br><br>
            Минимальный доход был в
            <input type="text" size=8 name="minMonth">
            и он составил 
            <input type="text" size=8 name="minIncome"><br><br>
            <input type="button" value="Вычислить" onClick="income(form1)">&nbsp;&nbsp;&nbsp;&nbsp;
            <input type="reset" value="Обновить">
        </FORM>
    </div>
</body>

</html>